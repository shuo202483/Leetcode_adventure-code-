1、先把人群分成两拨
A 组：k 以及 k 前面的人（下标 0 … k）这里包括了k
B 组：k 后面的人（下标 k+1 … n-1）

2、先算 A 组——他们“全程陪跑”
k 要买 T = tickets[k] 张票，意味着比赛一共至少进行 T 轮。
A 组的每个人每一轮都能上场（因为他们永远在 k 或 k 前面，k 没走完他们肯定在）。
所以 A 组里任何一个人 i，最多能买 T 张票；如果他本身票数不到 T，那就只能买 tickets[i]

3、再算 B 组——他们“少一轮”
当 k 买到第 T 张的瞬间，比赛立即结束，B 组来不及参加第 T 轮。
所以他们最多只能买 T − 1 张票；如果某人票数更少，就按实际算。
→ B 组总票数 = 把每个人的票数与 T−1 取小，再求和。
